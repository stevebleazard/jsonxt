<!doctype html public "-//W3C//DTD HTML 4.0 Transitional //EN">
<html>
<head>
  <meta name="GENERATOR" content="mkd2html 2.2.4">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet"
        type="text/css"
        href="/markdown10.css" />
  <title></title>
</head>
<body>
<h1>Jsonxt test suite</h1>

<p>The Jsonxt test suite convers standards compliance, extension support and
read-write-read tests.</p>

<p>The tests can be run using the dune command</p>

<pre><code>dune build @runtests
</code></pre>

<h2>Compliance tests</h2>

<p>Jsonxt supports multiple levels of compliance with the RFC 8259
standard. The compliance tests validate that each compliance level
(Strict, Basic, Extended, Yojson.Safe etc) correctly parses a number
of test files.  The validation process checks that each module
correctly parse or returns an error for each file.</p>

<p>Run compliance only checks with</p>

<pre><code>dune build @compliance_tests
</code></pre>

<h2>Validation tests</h2>

<p>Validation checks ensure that the parser are correctly processing
various JSON expressions.  The tests perform standard parses
and comparing with expected result using <code>sexp</code>.  In addition,
read-write-read test are performed to ensure writers work
correctly.  Again, <code>sexp</code> is used to validate the result.</p>

<p>Run validation only checks with</p>

<pre><code>dune build @validation_tests
</code></pre>

<h2>JSONTestSuite tests</h2>

<p>The suite set of tests validates the parses against the freely available
<a href="https://github.com/nst/JSONTestSuite">JSONTestSuite</a>. To run the
tests first clone <a href="https://github.com/nst/JSONTestSuite">JSONTestSuite</a>,
then, assuming the current directory is the same directory as this README.md,</p>

<pre><code>dune build
JXTESTER=&lt;path-to-jxtester.exe&gt;
JSONTESTSUITE=&lt;path-to-JSONTestSuite-directory&gt;
$JXTESTER suite std $JSONTESTSUITE/test_parsing/[iny]_*
$JXTESTER suite stream $JSONTESTSUITE/test_parsing/[iny]_*
$JXTESTER suite monad $JSONTESTSUITE/test_parsing/[iny]_*
</code></pre>
</body>
</html>
