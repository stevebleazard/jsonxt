<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Strict (jsonxt.Jsonxt__Process.Strict)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">jsonxt</a> &#x00BB; <a href="../index.html">Jsonxt__Process</a> &#x00BB; Strict</nav><h1>Module <code>Jsonxt__Process.Strict</code></h1><p><code>Strict</code> supports processing JSON data that conforms to the <span class="xref-unresolved" title="unresolved reference to &quot;Json.Strict.json&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Json.Strict&quot;"><code>Json</code>.Strict</span>.json</span> json type.</p></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../Jsonxt__/Process_intf/index.html#module-type-Shared">Jsonxt__.Process_intf.Shared</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Jsonxt__/Process_intf/module-type-Shared/index.html#type-json">json</a> := <a href="../../Jsonxt/Json/Strict/index.html#type-json">Jsonxt.Json.Strict.json</a></code></span></summary><dl><dt class="spec type" id="type-json"><a href="#type-json" class="anchor"></a><code><span class="keyword">type</span> json</code></dt></dl><dl><dt class="spec value" id="val-member"><a href="#val-member" class="anchor"></a><code><span class="keyword">val</span> member : string <span>&#45;&gt;</span> <span>[&gt; <span>`Assoc of <span><span>(string * <a href="index.html#type-json">json</a>)</span> list</span></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-json">json</a></code></dt><dd><p><code>member key json</code> searches the JSON object <code>json</code>, which must be an <code>`Assoc</code> element, for <code>key</code> and returns the value or <code>`Null</code> if the <code>key</code> is missing</p></dd></dl><dl><dt class="spec value" id="val-index"><a href="#val-index" class="anchor"></a><code><span class="keyword">val</span> index : int <span>&#45;&gt;</span> <span>[&gt; <span>`List of <span><a href="index.html#type-json">json</a> list</span></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-json">json</a></code></dt><dd><p><code>index idx json</code> returns the <code>idx</code>-th JSON object in the <code>json</code> array, which must be an <code>`List</code> element. A negative <code>idx</code> value starts from the end with -1 being the last element. A <code>Failure</code> exception is raise if the idx is out of bounds</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>(<a href="index.html#type-json">json</a> <span>&#45;&gt;</span> <a href="index.html#type-json">json</a>)</span> <span>&#45;&gt;</span> <span>[&gt; <span>`List of <span><a href="index.html#type-json">json</a> list</span></span> ]</span> <span>&#45;&gt;</span> <span>[&gt; <span>`List of <span><a href="index.html#type-json">json</a> list</span></span> ]</span></code></dt><dd><p><code>map f json</code> applies the function <code>f</code> to each element of the JSON array <code>json</code>, which must be an <code>`List</code> element, and returns a <code>`List</code> element</p></dd></dl><dl><dt class="spec value" id="val-to_assoc"><a href="#val-to_assoc" class="anchor"></a><code><span class="keyword">val</span> to_assoc : <span>[&gt; <span>`Assoc of <span><span>(string * <a href="index.html#type-json">json</a>)</span> list</span></span> ]</span> <span>&#45;&gt;</span> <span><span>(string * <a href="index.html#type-json">json</a>)</span> list</span></code></dt><dd><p><code>to_assoc json</code> converts the JSON object <code>`Assoc a</code> to <code>a</code></p></dd></dl><dl><dt class="spec value" id="val-to_bool"><a href="#val-to_bool" class="anchor"></a><code><span class="keyword">val</span> to_bool : <span>[&gt; <span>`Bool of bool</span> ]</span> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>to_bool json</code> converts <code>`Bool b</code> to <code>b</code></p></dd></dl><dl><dt class="spec value" id="val-to_bool_option"><a href="#val-to_bool_option" class="anchor"></a><code><span class="keyword">val</span> to_bool_option : <span>[&gt; <span>`Bool of bool</span> <span>| `Null</span> ]</span> <span>&#45;&gt;</span> <span>bool option</span></code></dt><dd><p><code>to_bool_option json</code> converts <code>`Bool b</code> to <code>Some b</code> and <code>`Null</code> to <code>None</code></p></dd></dl><dl><dt class="spec value" id="val-to_float"><a href="#val-to_float" class="anchor"></a><code><span class="keyword">val</span> to_float : <span>[&gt; <span>`Float of float</span> ]</span> <span>&#45;&gt;</span> float</code></dt><dd><p><code>to_float json</code> converts <code>`Float f</code> to <code>f</code></p></dd></dl><dl><dt class="spec value" id="val-to_float_option"><a href="#val-to_float_option" class="anchor"></a><code><span class="keyword">val</span> to_float_option : <span>[&gt; <span>`Float of float</span> <span>| `Null</span> ]</span> <span>&#45;&gt;</span> <span>float option</span></code></dt><dd><p><code>to_float_option json</code> converts <code>`Float f</code> to <code>Some f</code> and <code>`Null</code> to <code>None</code></p></dd></dl><dl><dt class="spec value" id="val-to_option"><a href="#val-to_option" class="anchor"></a><code><span class="keyword">val</span> to_option : <span>(<span>[&gt; `Null ]</span> <span class="keyword">as</span> 'a <span>&#45;&gt;</span> <a href="index.html#type-json">json</a>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><a href="index.html#type-json">json</a> option</span></code></dt><dd><p><code>to_option f json</code> returns <code>None</code> if <code>json</code> is <code>`Null</code> otherwise <code>Some (f json)</code>.</p></dd></dl><dl><dt class="spec value" id="val-to_list"><a href="#val-to_list" class="anchor"></a><code><span class="keyword">val</span> to_list : <span>[&gt; <span>`List of <span><a href="index.html#type-json">json</a> list</span></span> ]</span> <span>&#45;&gt;</span> <span><a href="index.html#type-json">json</a> list</span></code></dt><dd><p><code>to_list json</code> converts <code>`List l</code> to <code>l</code></p></dd></dl><dl><dt class="spec value" id="val-to_number"><a href="#val-to_number" class="anchor"></a><code><span class="keyword">val</span> to_number : <span>[&gt; <span>`Float of float</span> ]</span> <span>&#45;&gt;</span> float</code></dt><dd><p><code>to_number json</code> converts <code>`Float f</code> to <code>f</code></p></dd></dl><dl><dt class="spec value" id="val-to_number_option"><a href="#val-to_number_option" class="anchor"></a><code><span class="keyword">val</span> to_number_option : <span>[&gt; <span>`Float of float</span> <span>| `Null</span> ]</span> <span>&#45;&gt;</span> <span>float option</span></code></dt><dd><p><code>to_number_option json</code> converts <code>`Float f</code> to <code>Some f</code> and <code>`Null</code> to <code>None</code></p></dd></dl><dl><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <span>[&gt; <span>`String of string</span> ]</span> <span>&#45;&gt;</span> string</code></dt><dd><p><code>to_string json</code> converts <code>`String s</code> to <code>s</code></p></dd></dl><dl><dt class="spec value" id="val-to_string_option"><a href="#val-to_string_option" class="anchor"></a><code><span class="keyword">val</span> to_string_option : <span>[&gt; <span>`String of string</span> <span>| `Null</span> ]</span> <span>&#45;&gt;</span> <span>string option</span></code></dt><dd><p><code>to_string_option json</code> converts <code>`String s</code> to <code>Some s</code> and <code>`Null</code> to <code>None</code></p></dd></dl><dl><dt class="spec value" id="val-convert_each"><a href="#val-convert_each" class="anchor"></a><code><span class="keyword">val</span> convert_each : <span>(<a href="index.html#type-json">json</a> <span>&#45;&gt;</span> <a href="index.html#type-json">json</a>)</span> <span>&#45;&gt;</span> <span>[&gt; <span>`List of <span><a href="index.html#type-json">json</a> list</span></span> ]</span> <span>&#45;&gt;</span> <span><a href="index.html#type-json">json</a> list</span></code></dt><dd><p><code>convert_each f json</code> applies the function <code>f</code> to each element of the JSON array <code>json</code>, which must be an <code>`List</code> element, and returns a list of the returned values.</p></dd></dl><dl><dt class="spec value" id="val-filter_map"><a href="#val-filter_map" class="anchor"></a><code><span class="keyword">val</span> filter_map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dd><p><code>filter_map f l</code> applies <code>f</code> to each element of the list <code>l</code> and returns a new list with the values <code>v</code> for which <code>f</code> returned <code>Some v</code>.</p></dd></dl><dl><dt class="spec value" id="val-rev_filter_map"><a href="#val-rev_filter_map" class="anchor"></a><code><span class="keyword">val</span> rev_filter_map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dd><p><code>rev_filter_map f acc l</code> applies <code>f</code> to each element of the list <code>l</code> and prepends the values for which <code>f</code> returned <code>Some v</code> to list <code>acc</code>. <code>acc</code> is returned as the result and is in reverse order to the input. This is a tail call optimised version of <code>filter_map</code></p></dd></dl><dl><dt class="spec value" id="val-flatten"><a href="#val-flatten" class="anchor"></a><code><span class="keyword">val</span> flatten : <span><span>[&gt; <span>`List of <span><span class="type-var">'a</span> list</span></span> ]</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dd><p><code>flatten l</code> given a list of <code>json</code> elements filters the <code>`List</code> elements and flattens them into a single list. This is the same as <code>filter_list |&gt; List.flatten</code></p></dd></dl><dl><dt class="spec value" id="val-rev_flatten"><a href="#val-rev_flatten" class="anchor"></a><code><span class="keyword">val</span> rev_flatten : <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span>[&gt; <span>`List of <span><span class="type-var">'a</span> list</span></span> ]</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dd><p><code>rev_flatten acc l</code> is the tail recursive version of <code>flatten</code> with the result accumulated in <code>acc</code>. The result is in reverse order.</p></dd></dl><dl><dt class="spec value" id="val-filter_index"><a href="#val-filter_index" class="anchor"></a><code><span class="keyword">val</span> filter_index : int <span>&#45;&gt;</span> <span><span>[&gt; <span>`List of <span><a href="index.html#type-json">json</a> list</span></span> ]</span> list</span> <span>&#45;&gt;</span> <span><a href="index.html#type-json">json</a> list</span></code></dt><dd><p><code>filter_index i l</code> returns the <code>i</code>'th element from each <code>`List l1</code> in <code>l</code>. Thus,</p><pre><code class="ml">[[`List [`Int 2; `Int 3]; `List [`Int 4; `Int 5]] |&gt; filter_index 1]</code></pre><p>returns <code>[`Int 3; `Int 5]</code></p></dd></dl><dl><dt class="spec value" id="val-filter_list"><a href="#val-filter_list" class="anchor"></a><code><span class="keyword">val</span> filter_list : <span><span>[&gt; <span>`List of <span class="type-var">'a</span></span> ]</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dd><p><code>filter_list l</code> returns a list of all the values of <code>`List value</code> elements in l</p></dd></dl><dl><dt class="spec value" id="val-filter_assoc"><a href="#val-filter_assoc" class="anchor"></a><code><span class="keyword">val</span> filter_assoc : <span><span>[&gt; <span>`Assoc of <span class="type-var">'a</span></span> ]</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dd><p><code>filter_assoc l</code> returns a list of all the values of <code>`Assoc value</code> elements in l</p></dd></dl><dl><dt class="spec value" id="val-filter_bool"><a href="#val-filter_bool" class="anchor"></a><code><span class="keyword">val</span> filter_bool : <span><span>[&gt; <span>`Bool of bool</span> ]</span> list</span> <span>&#45;&gt;</span> <span>bool list</span></code></dt><dd><p><code>filter_bool l</code> returns a list of all the values of <code>`Bool value</code> elements in l</p></dd></dl><dl><dt class="spec value" id="val-filter_float"><a href="#val-filter_float" class="anchor"></a><code><span class="keyword">val</span> filter_float : <span><span>[&gt; <span>`Float of float</span> ]</span> list</span> <span>&#45;&gt;</span> <span>float list</span></code></dt><dd><p><code>filter_float l</code> returns a list of all the values of <code>`Float value</code> elements in l</p></dd></dl><dl><dt class="spec value" id="val-filter_string"><a href="#val-filter_string" class="anchor"></a><code><span class="keyword">val</span> filter_string : <span><span>[&gt; <span>`String of string</span> ]</span> list</span> <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p><code>filter_string l</code> returns a list of all the values of <code>`String value</code> elements in l</p></dd></dl><dl><dt class="spec value" id="val-filter_member"><a href="#val-filter_member" class="anchor"></a><code><span class="keyword">val</span> filter_member : string <span>&#45;&gt;</span> <span><span>[&gt; <span>`Assoc of <span><span>(string * <a href="index.html#type-json">json</a>)</span> list</span></span> ]</span> list</span> <span>&#45;&gt;</span> <span><a href="index.html#type-json">json</a> list</span></code></dt><dd><p><code>filter_member key js</code> given a <code>key</code> and a list of json <code>`Assoc</code>-s, <code>js</code>, returns the list of values extracted from each of the <code>`Assoc</code>-s. Thus,</p><pre><code class="ml">[[`Assoc [(&quot;id&quot;, `Int 1)]; `Assoc [(&quot;id&quot;, `Int 2)]]] |&gt; filter_member &quot;id&quot;]</code></pre><p>returns <code>[`Int 1; `Int 2]</code></p></dd></dl><dl><dt class="spec value" id="val-filter_number"><a href="#val-filter_number" class="anchor"></a><code><span class="keyword">val</span> filter_number : <span><span>[&gt; <span>`Float of float</span> ]</span> list</span> <span>&#45;&gt;</span> <span>float list</span></code></dt><dd><p><code>filter_number l</code> returns a list of all the values of <code>`Float value</code> elements in l</p></dd></dl><dl><dt class="spec value" id="val-keys"><a href="#val-keys" class="anchor"></a><code><span class="keyword">val</span> keys : <span>[&gt; <span>`Assoc of <span><span>(string * <span class="type-var">'a</span>)</span> list</span></span> ]</span> <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p><code>keys assoc</code> returns all the keys from the <code>`Assoc</code> element</p></dd></dl><dl><dt class="spec value" id="val-values"><a href="#val-values" class="anchor"></a><code><span class="keyword">val</span> values : <span>[&gt; <span>`Assoc of <span><span>(string * <span class="type-var">'a</span>)</span> list</span></span> ]</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dd><p><code>values assoc</code> returns all the values from the <code>`Assoc</code> element</p></dd></dl><dl><dt class="spec value" id="val-combine"><a href="#val-combine" class="anchor"></a><code><span class="keyword">val</span> combine : <span>[&gt; <span>`Assoc of <span><span class="type-var">'a</span> list</span></span> ]</span> <span>&#45;&gt;</span> <span>[&gt; <span>`Assoc of <span><span class="type-var">'a</span> list</span></span> ]</span> <span>&#45;&gt;</span> <span>[&gt; <span>`Assoc of <span><span class="type-var">'a</span> list</span></span> ]</span></code></dt><dd><p><code>combine assoc1 assoc2</code> appends the associative lists of two <code>`Assoc</code> elements returning an <code>`Assoc</code> element</p></dd></dl><dl><dt class="spec value" id="val-sort"><a href="#val-sort" class="anchor"></a><code><span class="keyword">val</span> sort : <span>[&gt; <span>`Assoc of <span><span>(string * <span class="type-var">'a</span>)</span> list</span></span> <span><span>| `List</span> of <span><span class="type-var">'a</span> list</span></span> ]</span> <span class="keyword">as</span> 'a <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>sort json</code> sorts the <code>json</code> tree based on field names. Objects and lists are sorted recursively. Note that the function only sorts field names and not the values. The sort is stable</p></dd></dl></details></div></div></div></div></body></html>